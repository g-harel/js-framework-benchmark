!function(t){function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}var e={};n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=1)}([function(t,n,e){"use strict";t.exports=function(){var t=function(t){return void 0!==t},n=function(t){return"function"==typeof t},e=function(t){return"string"==typeof t},r=function(t){return!!t&&t.constructor===Object},i=function(t){var n=JSON.stringify(t,function(t,n){return"function"==typeof n?n.toString():n},2);return"\n>>> "+String(n).replace(/\n/g,"\n    ")},o=function(t,n){for(var e=arguments.length,r=Array(e>2?e-2:0),o=2;o<e;o++)r[o-2]=arguments[o];if(!t)throw new Error("@okwolo."+n+r.map(i).join(""))};return{deepCopy:function(n){if(t(n))return JSON.parse(JSON.stringify(n))},assert:o,isDefined:t,isNull:function(t){return null===t},isArray:function(t){return Array.isArray(t)},isFunction:n,isString:e,isNumber:function(t){return"number"==typeof t},isBoolean:function(t){return"boolean"==typeof t},isObject:r,isNode:function(t){return!!(t&&t.tagName&&t.nodeName&&t.ownerDocument&&t.removeAttribute)},isRegExp:function(t){return t instanceof RegExp},isBrowser:function(){return"undefined"!=typeof window},makeQueue:function(){var e=[],r=function(){var n=e[0];t(n)&&n()};return{add:function(t){o(n(t),"utils.makeQueue.add : added objects must be a function",t),e.push(t),1===e.length&&r()},done:function(){e.shift(),r()}}},makeBus:function(){var i={},a={};return Object.assign(function(n){o(r(n),"utils.bus : event is not an object",n);var u=n.name;if(t(u)){if(o(e(u),"utils.bus : event name is not a string",u),t(a[u]))return;a[u]=!0}for(var s=Object.keys(n),c=0;c<s.length;++c){var f=s[c];if(t(i[f]))for(var d=0;d<i[f].length;++d)i[f][d](n[f])}},{on:function(r,a){o(e(r),"utils.bus : handler type is not a string",r),o(n(a),"utils.bus : handler is not a function",a),t(i[r])||(i[r]=[]),i[r].push(a)}})}}}},function(t,n,e){"use strict";var r=e(2);t.exports=r({modules:[e(3),e(4),e(5),e(6),e(7),e(8),e(9),e(10),e(12)],options:{kit:"standard",browser:!0}})},function(t,n,e){"use strict";var r=e(0)(),i=r.isFunction,o=r.isDefined,a=r.isObject,u=r.assert,s=r.isBrowser,c=r.makeBus;t.exports=function(t){var n=t.modules,e=void 0===n?[]:n,r=t.options,f=void 0===r?{}:r,d=function(t,n){f.browser&&(o(n)||(u(s(),"app : must be run in a browser environment"),n=window));var r=function(){},d=function(){return r.apply(void 0,arguments)};return d.emit=c(),(d.use=c()).on("api",function(t){u(a(t),"core.use.api : additional api is not an object",t),Object.assign(d,t)}),d.use.on("primary",function(t){u(i(t),"core.use.primary : primary is not a function",t),r=t}),e.forEach(function(t){t({emit:d.emit,use:d.use},n)}),o(t)&&d.use({target:t}),d};return s()&&(d.kit=f.kit,d.version="2.0.0",o(window.okwolo)||(window.okwolo=d),window.okwolo[f.kit]=d),d}},function(t,n,e){"use strict";var r=e(0)(),i=r.assert,o=r.isDefined,a=r.isFunction;t.exports=function(t){var n=t.emit,e=t.use,r=void 0,u=void 0,s=void 0,c=void 0,f=void 0,d=void 0,l=void 0,p=void 0,h=void 0,v=function(t){var n=u(t);return c&&(n=c(n)),n=s(n),f&&(n=f(n)),n};e.on("target",function(t){r=t,n({update:!0})}),e.on("builder",function(t){i(a(t),"view.use.builder : builder is not a function",t),u=t,n({update:!1})}),e.on("draw",function(t){i(a(t),"view.use.draw : new draw is not a function",t),d=t,n({update:!0})}),e.on("update",function(t){i(a(t),"view.use.update : new target updater is not a function",t),l=t,n({update:!1})}),e.on("build",function(t){i(a(t),"view.use.build : new build is not a function",t),s=t,n({update:!1})}),e.on("prebuild",function(t){i(a(t),"view.use.prebuild : new prebuild is not a function",t),c=t,n({update:!1})}),e.on("postbuild",function(t){i(a(t),"view.use.postbuild : new postbuild is not a function",t),f=t,n({update:!1})}),n.on("state",function(t){i(o(t),"view.emit.state : new state is not defined",t),h=t,n({update:!1})});var g=!1,m=!1;n.on("update",function(t){if(!m){if(!(o(r)&&o(u)&&o(h)&&o(s)))return;m=!0}t||!g?(p=d(r,v(h)),g=!0):p=l(r,v(h),p)}),e({api:{update:function(){return n({update:!1})}}}),e({primary:function(t){return e({builder:t()})}})}},function(t,n,e){"use strict";var r=function(){return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,n){var e=[],r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(e.push(a.value),!n||e.length!==n);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return e}(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=e(0)(),o=i.assert,a=i.isDefined,u=i.isNull,s=i.isArray,c=i.isString,f=i.isNumber,d=i.isBoolean,l=i.isObject,p=i.isFunction,h=function t(){for(var n=arguments.length,e=Array(n),r=0;r<n;r++)e[r]=arguments[r];return e.map(function(n){return c(n)?n:s(n)?t.apply(void 0,function(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)}(n)):l(n)?t(Object.keys(n).map(function(t){return n[t]&&t})):void 0}).filter(Boolean).join(" ")},v=function t(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"root";if(d(n)&&(n=null),u(n))return{text:""};if(f(n)&&(n=String(n)),c(n))return{text:n};if(o(s(n),"view.build : vdom object is not a recognized type",e,n),p(n[0])){var i=r(n,3),v=i[0],g=i[1],m=void 0===g?{}:g,y=i[2],b=void 0===y?[]:y;return o(l(m),"view.build : component's props is not an object",e,n,m),o(s(b),"view.build : component's children is not an array",e,n,b),t(v(Object.assign({},m,{children:b}),e))}var w=r(n,3),O=w[0],x=w[1],E=void 0===x?{}:x,j=w[2],D=void 0===j?[]:j;o(c(O),"view.build : tag property is not a string",e,n,O),o(l(E),"view.build : attributes is not an object",e,n,E),o(s(D),"view.build : children of vdom object is not an array",e,n,D);var k=/^ *(\w+) *(?:#([-\w\d]+))? *((?:\.[-\w\d]+)*)? *(?:\|\s*([^\s]{1}[^]*?))? *$/.exec(O);o(s(k),"view.build : tag property cannot be parsed",e,O);var S=r(k,5),M=S[1],A=S[2],N=S[3],T=S[4];a(A)&&!a(E.id)&&(E.id=A.trim()),(a(E.className)||a(N))&&(E.className=h(E.className,N).replace(/\./g," ").replace(/  +/g," ").trim()),a(T)&&(a(E.style)?(T=(T+";").replace(/;;$/g,";"),E.style=T+E.style):E.style=T),e+=" -> "+O;for(var R={},_=[],C=0;C<D.length;++C){var $=C,F=t(D[C],e);F.attributes&&"key"in F.attributes&&($=F.attributes.key,o(f($)||c($),"view.build : invalid element key type",e,$),o(String($).match(/^[\w\d-_]+$/g),"view.build : invalid character in element key",e,$)),$=String($),o(!R[$],"view.build : duplicate child key",e,$),_.push($),R[$]=F}return{tagName:M,attributes:E,children:R,childOrder:_}};t.exports=function(t){(0,t.use)({build:v})}},function(t,n,e){"use strict";var r=e(0)(),i=r.assert,o=r.isDefined,a=r.isNode,u=r.isFunction;t.exports=function(t,n){var e=function t(e){if(o(e.text))return e.DOM=n.document.createTextNode(e.text),e;var r=n.document.createElement(e.tagName);Object.assign(r,e.attributes);for(var i=0;i<e.childOrder.length;++i){var a=e.childOrder[i],u=t(e.children[a]).DOM;r.appendChild(u)}return e.DOM=r,e};(0,t.use)({draw:function(t,r){return i(a(t),"view.dom.draw : target is not a DOM node",t),e(r),n.requestAnimationFrame(function(){t.innerHTML="",t.appendChild(r.DOM)}),r},update:function(t,r,s){i(a(t),"view.dom.update : target is not a DOM node",t);var c=function t(n,r,i,a){if(!o(n))return i.children[a]=e(r),void i.DOM.appendChild(i.children[a].DOM);if(!o(r))return i.DOM.removeChild(n.DOM),void delete i.children[a];if(n.tagName!==r.tagName){var s=n.DOM,c=e(r);return i.DOM.replaceChild(c.DOM,s),void Object.assign(n,{DOM:void 0,text:void 0,tagName:void 0,attributes:void 0,children:void 0,childOrder:void 0},c)}if(3!==n.DOM.nodeType){for(var f=function(t,n){for(var e=Object.keys(Object.assign({},t,n)),r=[],i=0;i<e.length;++i){var o=e[i],a=t[o],s=n[o];(u(a)||u(s))&&r.push(o),a!==s&&r.push(o)}return r}(n.attributes,r.attributes),d=0;d<f.length;++d){var l=f[d];n.attributes[l]=r.attributes[l],n.DOM[l]=r.attributes[l]}var p=n.childOrder.slice();n.childOrder=r.childOrder;for(var h=Object.keys(Object.assign({},n.children,r.children)),v=0;v<h.length;++v){var g=h[v];n.children[g]?r.children[g]||p.splice(p.indexOf(g),1):p.push(g),t(n.children[g],r.children[g],n,g)}if(p.length){for(var m=function(t,n){for(var e=n.length,r=e/2,i=0,o=0,a=0;a<e;++a){for(var u=t.indexOf(n[a]),s=Math.min(e-u,e-a),c=1,f=1;f<s&&n[a+f]===t[u+f];++f)c+=1;if(c>i&&(i=c,o=a),i>=r)break}return{start:o,end:o+i-1}}(p,r.childOrder),y=m.start,b=m.end,w=r.childOrder.slice(0,y),O=w.length-1;O>=0;--O){var x=w[O];n.DOM.insertBefore(n.children[x].DOM,n.DOM.firstChild)}for(var E=r.childOrder.slice(b+1,1/0),j=0;j<E.length;++j){var D=E[j];n.DOM.appendChild(n.children[D].DOM)}}}else n.text!==r.text&&(n.DOM.nodeValue=r.text,n.text=r.text)};return n.requestAnimationFrame(function(){try{c(s,r,{DOM:t,children:{root:s}},"root")}catch(t){console.error("view.dom.update : "+t)}}),s}})}},function(t,n,e){"use strict";var r=e(0)(),i=r.assert,o=r.deepCopy,a=r.isFunction;t.exports=function(t){var n=t.emit,e=t.use,r={},u=r,s=void 0;n.on("state",function(t){u=t}),e.on("handler",function(t){i(a(t),"state.use.handler : handler generator is not a function",t);var n=t(function(){return u});i(a(n),"state.use.handler : handler from generator is not a function",n),s=n}),e({handler:function(){return function(t){n({state:t})}}});e({api:{setState:function(t){var n=a(t)?t(o(u)):t;s(n)},getState:function(){return i(u!==r,"state.getState : cannot get state before it has been set"),o(u)}}})}},function(t,n,e){"use strict";var r=e(0)(),i=r.assert,o=r.deepCopy,a=r.makeQueue,u=r.isDefined,s=r.isArray,c=r.isFunction,f=r.isString;t.exports=function(t){var n=t.emit,e=t.use,r=!1,d={},l=[],p=[],h=a(),v=function(){},g=function(t,e,r){var a=[function(){!function(t,e,r){var a=o(t);i(u(d[e]),"state.handler : action type '"+e+"' was not found"),d[e].forEach(function(n){var d=n.target;c(d)&&(d=d(o(t),r),i(s(d),"state.handler : dynamic target of action "+e+" is not an array",d),d.forEach(function(t){i(f(t),"state.handler : dynamic target of action "+e+" is not an array of strings",d)}));var l=o(a);0===d.length&&(a=n.handler(l,r),i(u(a),"state.handler : result of action "+e+" on target @state is undefined"));var p=a;d.forEach(function(t,o){if(i(u(l[t]),"state.handler : target of action "+e+" does not exist: @state."+d.slice(0,o+1).join(".")),o<d.length-1)return l=l[t],void(p=p[t]);var a=n.handler(l[t],r);i(u(a),"state.handler : result of action "+e+" on target @state."+d.join(".")+" is undefined"),p[t]=a})}),n({state:o(a)}),p.forEach(function(t){t(o(a),e,r)}),h.done()}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:r)}];l.reverse().forEach(function(n,i){a[i+1]=function(){var u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r;t=u,e=s,r=c,n(a[i],o(u),s,c)}}),a[l.length](t,e,r)};e.on("action",function(t){[].concat(t).forEach(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.type,e=t.handler,r=t.target;i(f(n),"state.use.action : action's type is not a string",t,n),i(c(e),"state.use.action : handler for action "+n+" is not a function",t,e),s(r)?r.forEach(function(e){i(f(e),"state.use.action : target of action "+n+" is not an array of strings",t,r)}):i(c(r),"state.use.action : target of action "+n+" is not valid",r),void 0!==d[n]?d[n].push(t):d[n]=[t]})}),e.on("middleware",function(t){[].concat(t).forEach(function(t){i(c(t),"state.use.middleware : middleware is not a function",t),l.push(t)})}),e.on("watcher",function(t){[].concat(t).forEach(function(t){i(c(t),"state.use.watcher : watcher is not a function",t),p.push(t)})}),n.on("act",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.type,e=t.params,o=void 0===e?{}:e;i(r||"SET_STATE"===n,"act : cannot act on state before it has been overrwritten"),r=!0,i(f(n),"state.act : action type is not a string",n),h.add(function(){g(v(),n,o)})}),e({api:{act:function(t,e){return n({act:{type:t,params:e}})}}}),e({action:{type:"SET_STATE",target:[],handler:function(t,n){return n}}}),e({handler:function(t){return v=t,function(t){n({act:{type:"SET_STATE",params:t}})}}})}},function(t,n,e){"use strict";t.exports=function(t){var n=t.emit,e=t.use,r={},i=[],o=r,a=[];e({action:{type:"UNDO",target:[],handler:function(){return i.length>0&&i[i.length-1]!==r?(a.push(o),i.pop()):o}}}),e({action:{type:"REDO",target:[],handler:function(){return a.length>0?(i.push(o),a.pop()):o}}}),e({action:{type:"__RESET__",target:[],handler:function(){return i=[],a=[],o}}}),e({watcher:function(t,n){"__RESET__"!==n&&"*"!==n[0]&&("UNDO"!==n&&"REDO"!==n&&(a=[],i.push(o),i.length>21&&i.shift()),o=t)}}),e({api:{undo:function(){return n({act:{type:"UNDO"}})},redo:function(){return n({act:{type:"REDO"}})}}})}},function(t,n,e){"use strict";var r=e(0)(),i=r.assert,o=r.isString,a=r.isObject,u=r.isFunction,s=r.makeQueue;t.exports=function(t,n){var e=t.emit,r=t.use,c=null!==n.document.origin&&"null"!==n.document.origin,f="",d=void 0,l=void 0,p=void 0,h=!1,v=s(),g=function(){for(var t=arguments.length,n=Array(t),e=0;e<t;e++)n[e]=arguments[e];i(u(p),"router : fetch is not a function",p),p.apply(void 0,[d].concat(n))},m=function(t){var n=f.replace(/([^\w])/g,"\\$1");return t.replace(new RegExp("^"+n),"")||""},y=n.location.pathname;c||(y=""),n.onpopstate=function(){y=m(n.location.pathname),g(y)},r.on("route",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.path,e=t.handler;i(o(n),"router.use.route : path is not a string",n),i(u(e),"router.use.route : handler is not a function",n,e),i(u(l),"route.use.route : register is not a function",l),d=l(d,n,e),h||(h=!!g(y))}),r.on("base",function(t){i(o(t),"router.use.base : base url is not a string",t),f=t,y=m(y),g(y)}),r.on("register",function(t){i(u(t),"router.use.register : register is not a function",l),l=t}),r.on("fetch",function(t){i(u(t),"router.use.fetch : fetch is not a function",p),p=t}),e.on("redirect",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.path,r=t.params,u=void 0===r?{}:r;i(o(e),"router.redirect : path is not a string",e),i(a(u),"router.redirect : params is not an object",u),v.add(function(){y=e,c?n.history.pushState({},"",(f+y).replace(/^\/C\:/,"")):console.log("@okwolo/router:: path changed to\n>>> "+y),g(y,u),v.done()})}),e.on("show",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.path,e=t.params,r=void 0===e?{}:e;i(o(n),"router.show : path is not a string",n),i(a(r),"router.show : params is not an object",r),v.add(function(){g(n,r),v.done()})}),r({api:{redirect:function(t,n){return e({redirect:{path:t,params:n}})},show:function(t,n){return e({show:{path:t,params:n}})}}}),r({primary:function(t,n){r(u(t)?{builder:t()}:{route:{path:t,handler:function(t){r({builder:n(t)})}}})}})}},function(t,n,e){"use strict";var r=e(11);t.exports=function(t){(0,t.use)({register:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments[1],e=arguments[2],i=[],o=r(n,i,{strict:!0});return t.push({pattern:o,keys:i,handler:e}),t}})}},function(t,n){function e(t,n){for(var e,r=[],o=0,a=0,u="",d=n&&n.delimiter||s,l=n&&n.delimiters||c,p=!1;null!==(e=f.exec(t));){var h=e[0],v=e[1],g=e.index;if(u+=t.slice(a,g),a=g+h.length,v)u+=v[1],p=!0;else{var m="",y=t[a],b=e[2],w=e[3],O=e[4],x=e[5];if(!p&&u.length){var E=u.length-1;l.indexOf(u[E])>-1&&(m=u[E],u=u.slice(0,E))}u&&(r.push(u),u="",p=!1);var j=""!==m&&void 0!==y&&y!==m,D="+"===x||"*"===x,k="?"===x||"*"===x,S=m||d,M=w||O;r.push({name:b||o++,prefix:m,delimiter:S,optional:k,repeat:D,partial:j,pattern:M?function(t){return t.replace(/([=!:$/()])/g,"\\$1")}(M):"[^"+i(S)+"]+?"})}}return(u||a<t.length)&&r.push(u+t.substr(a)),r}function r(t){for(var n=new Array(t.length),e=0;e<t.length;e++)"object"==typeof t[e]&&(n[e]=new RegExp("^(?:"+t[e].pattern+")$"));return function(e,r){for(var i="",o=r&&r.encode||encodeURIComponent,a=0;a<t.length;a++){var u=t[a];if("string"!=typeof u){var s,c=e?e[u.name]:void 0;if(Array.isArray(c)){if(!u.repeat)throw new TypeError('Expected "'+u.name+'" to not repeat, but got array');if(0===c.length){if(u.optional)continue;throw new TypeError('Expected "'+u.name+'" to not be empty')}for(var f=0;f<c.length;f++){if(s=o(c[f]),!n[a].test(s))throw new TypeError('Expected all "'+u.name+'" to match "'+u.pattern+'"');i+=(0===f?u.prefix:u.delimiter)+s}}else if("string"!=typeof c&&"number"!=typeof c&&"boolean"!=typeof c){if(!u.optional)throw new TypeError('Expected "'+u.name+'" to be '+(u.repeat?"an array":"a string"));u.partial&&(i+=u.prefix)}else{if(s=o(String(c)),!n[a].test(s))throw new TypeError('Expected "'+u.name+'" to match "'+u.pattern+'", but got "'+s+'"');i+=u.prefix+s}}else i+=u}return i}}function i(t){return t.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function o(t){return t&&t.sensitive?"":"i"}function a(t,n,e){for(var r=(e=e||{}).strict,a=!1!==e.end,u=i(e.delimiter||s),f=e.delimiters||c,d=[].concat(e.endsWith||[]).map(i).concat("$").join("|"),l="",p=!1,h=0;h<t.length;h++){var v=t[h];if("string"==typeof v)l+=i(v),p=h===t.length-1&&f.indexOf(v[v.length-1])>-1;else{var g=i(v.prefix),m=v.repeat?"(?:"+v.pattern+")(?:"+g+"(?:"+v.pattern+"))*":v.pattern;n&&n.push(v),v.optional?v.partial?l+=g+"("+m+")?":l+="(?:"+g+"("+m+"))?":l+=g+"("+m+")"}}return a?(r||(l+="(?:"+u+")?"),l+="$"===d?"$":"(?="+d+")"):(r||(l+="(?:"+u+"(?="+d+"))?"),p||(l+="(?="+u+"|"+d+")")),new RegExp("^"+l,o(e))}function u(t,n,r){return t instanceof RegExp?function(t,n){if(!n)return t;var e=t.source.match(/\((?!\?)/g);if(e)for(var r=0;r<e.length;r++)n.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,pattern:null});return t}(t,n):Array.isArray(t)?function(t,n,e){for(var r=[],i=0;i<t.length;i++)r.push(u(t[i],n,e).source);return new RegExp("(?:"+r.join("|")+")",o(e))}(t,n,r):function(t,n,r){return a(e(t,r),n,r)}(t,n,r)}t.exports=u,t.exports.parse=e,t.exports.compile=function(t,n){return r(e(t,n))},t.exports.tokensToFunction=r,t.exports.tokensToRegExp=a;var s="/",c="./",f=new RegExp(["(\\\\.)","(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?"].join("|"),"g")},function(t,n,e){"use strict";t.exports=function(t){(0,t.use)({fetch:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments[1],e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=!1;return t.find(function(t){var i=t.pattern.exec(n);if(null!==i)return r=!0,i.shift(),t.keys.forEach(function(t,n){e[t.name]=i[n]}),t.handler(e),r}),r}})}}]);